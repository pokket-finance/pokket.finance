(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8469],{3090:function(e,t,n){"use strict";n.d(t,{W:function(){return d},G:function(){return c}});var s=n(809),r=n.n(s),i=n(2447),l=n(9690),a=n(5917);function d(e){return o.apply(this,arguments)}function o(){return(o=(0,i.Z)(r().mark((function e(t){var n,s,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/Account/getWalletActiveHistory",{signal:null===t||void 0===t?void 0:t.signal,credentials:"include",headers:{Authorization:"Bearer ".concat(null===(n=(0,l.nr)())||void 0===n?void 0:n.token),"Content-Type":"application/json"}});case 2:return s=e.sent,e.next=5,s.json();case 5:if(0===(i=e.sent).errorCode){e.next=8;break}throw new a.H(i);case 8:return e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(r().mark((function e(t){var n,s,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/Product/withdrawFeeLimit",{signal:null===t||void 0===t?void 0:t.signal,credentials:"include",headers:{Authorization:"Bearer ".concat(null===(n=(0,l.nr)())||void 0===n?void 0:n.token),"Content-Type":"application/json"}});case 2:return s=e.sent,e.next=5,s.json();case 5:if(0===(i=e.sent).errorCode){e.next=8;break}throw new a.H(i);case 8:return e.abrupt("return",i.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},7593:function(e,t,n){"use strict";n.d(t,{iA:function(){return r},r8:function(){return i},Bp:function(){return l},Px:function(){return a}});var s=n(8117),r=s.ZP.div.withConfig({displayName:"Table",componentId:"sc-v8cxea-0"})(["width:100%;background-color:",";cursor:pointer;display:flex;align-items:flex-start;justify-content:space-between;border-radius:3px;margin-bottom:10px;&:hover{opacity:0.85;}@media only screen and (max-width:768px){flex-wrap:wrap;padding:10px 0;}"],(function(e){return e.bgColor?e.bgColor:"#110e22;"})),i=s.ZP.div.withConfig({displayName:"Table__TableItem",componentId:"sc-v8cxea-1"})(["padding:22px 15px 22px 15px;line-height:16px;color:#fff;width:450px;text-align:start;font-size:14px;line-height:14px;font-weight:bold !important;&:first-child{padding-left:20px;}&:last-child{padding-right:20px;}span{font-weight:300;text-align:start;display:block;color:#9287ca;font-size:12px;line-height:12px;margin-bottom:10px;}"]),l=s.ZP.div.withConfig({displayName:"Table__TableButtonGroup",componentId:"sc-v8cxea-2"})(["display:flex;color:#fff;justify-content:space-around;align-items:center;padding-right:20px;height:80px;& > div:first-child{background-color:#1f193e;}& > div:last-child{border:solid 1px #1f193e;}@media only screen and (max-width:768px){padding:0 20px;width:100%;height:56px;justify-content:center;}"]),a=s.ZP.div.withConfig({displayName:"Table__TableButton",componentId:"sc-v8cxea-3"})(["padding:10px 25px;font-size:13px;font-weight:bold;margin-right:10px;border-radius:3px;cursor:pointer;&:last-child{margin-right:0;}&:hover{opacity:0.8;}@media only screen and (max-width:768px){width:50%;text-align:center;}"])},8469:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return Ze},default:function(){return Te},walletMenuItems:function(){return Pe}});var s=n(5893),r=n(9008),i=n(5723),l=n(7294),a=n(3832),d=n(1749),o=n(1954),c=n(5958),u=n(6794),x=n(8288),h=n(2438),m=n(3187),p=n(7677),f=n(8117),b=n(2213),j=n(6859),v=n(541),w=n(7593),g=n(4644),y=n(6882),N=n(5943),k=f.ZP.div.withConfig({displayName:"ModalTab__Layout",componentId:"sc-62lwsj-0"})(["padding:15px 0;border-bottom:1px solid #d8d8df;display:flex;justify-content:center;"]),C=f.ZP.div.withConfig({displayName:"ModalTab__MenuItem",componentId:"sc-62lwsj-1"})(["color:",";font-size:14px;font-weight:400;cursor:pointer;width:150px;position:relative;text-align:center;font-weight:bold;&:first-child{margin:0;}span{position:absolute;left:50%;transform:translate(-50%,-50%);bottom:-16px;width:20px;height:1px;background-color:#0a0037;}@media only screen and (max-width:768px){&:first-child{text-align:left;span{left:10px;}}&:last-child{text-align:right;span{left:auto;right:-10px;}}}"],(function(e){return e.color})),Z=function(e){var t=e.menu,n=e.tabIndex,r=e.setTabIndex;return(0,s.jsx)(k,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,s.jsxs)(C,{onClick:function(){return r(e.tabIndex)},color:e.tabIndex===n?"#0A0037":"#929095",children:[e.menu,e.tabIndex===n&&(0,s.jsx)("span",{})]},e.tabIndex)}))})},P=n(809),T=n.n(P),S=n(2447),A=n(4379),I=n(9827),W=n(9889);var O=n(8779);var _=function(e){var t,n,r,l,a=e.selectedToken,d=e.selectedProduct,o=(0,i.ZP)((function(){return a?["tokenBalance",a.contractName,a.symbol]:d?["tokenBalance",d.contractName,d.symbol]:null}),(function(e,t,n){return(0,O.bn)(t,n)})).data,c=null!==(t=null===a||void 0===a?void 0:a.symbol)&&void 0!==t?t:null===d||void 0===d?void 0:d.symbol,u=null!==(n=null===a||void 0===a?void 0:a.contractName)&&void 0!==n?n:null===d||void 0===d?void 0:d.contractName,x=null!==(r=null===a||void 0===a?void 0:a.name)&&void 0!==r?r:null===d||void 0===d?void 0:d.name,h=null!==(l=null===a||void 0===a?void 0:a.minimumOrder)&&void 0!==l?l:null===d||void 0===d?void 0:d.minimumOrder;return(0,s.jsxs)("div",{className:"flex flex-col mx-auto text-center justify-center items-center text-indigo-900 max-w-2xl",children:[(0,s.jsx)("h3",{className:"text-center text-xl font-light",children:u}),(0,s.jsx)("h2",{className:"text-center text-xl font-light",children:"".concat(c," ").concat(x)}),(0,s.jsxs)("div",{className:"mt-3 bg-indigo-900 p-3 rounded w-full",children:[(0,s.jsx)("p",{className:"text-3xs text-white mb-1",children:"Minimum Deposit"}),(0,s.jsx)("h3",{className:"text-white font-light leading-4",children:"".concat(h," ").concat(c)})]}),(0,s.jsxs)("div",{className:"max-w-sm text-xs italic mt-10",children:["Please transfer your tokens to your wallet address above. Once transferred, you will be able to create a new Savings.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"WARNING: Please make sure to send only ",c," to this address. Sending token other than ",c," to this address may result in the loss of your deposit. Please also send more than the minimum deposit amount, in order to prevent your tokens being wasted on network fees."]}),(0,s.jsxs)("div",{className:"max-w-sm mt-10 rounded border w-full border-gray-200 p-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Address"}),(0,s.jsx)("div",{className:"mt-3 flex justify-center",children:(null===o||void 0===o?void 0:o.depositAddressImageUrl)&&(0,s.jsx)("img",{src:null===o||void 0===o?void 0:o.depositAddressImageUrl,alt:"tokenBalance"})}),(0,s.jsxs)("p",{className:"mt-3 text-3xs md:text-xs text-gray-600",children:[null===o||void 0===o?void 0:o.depositAddress,(null===o||void 0===o?void 0:o.depositAddressTag)&&(0,s.jsx)("span",{className:"ml-3",children:null===o||void 0===o?void 0:o.depositAddressTag})]}),(0,s.jsx)("a",{className:"text-xs cursor-pointer mt-3 hover:text-indigo-700 ",onClick:function(){navigator.clipboard.writeText(null===o||void 0===o?void 0:o.depositAddress),A.fn.success("Copied")},children:"Copy"})]})]})},B=n(2283),E=n(3090),D=n(8237),F=n(3776),R=n.n(F),L=function(e,t,n){var s=(0,l.useState)(!1),r=s[0],a=s[1];(0,l.useEffect)((function(){e||a(!1)}),[e]);var d=(0,W.E)();return{loading:r,submit:(0,l.useCallback)(function(){var t=(0,S.Z)(T().mark((function t(s){var r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.prev=1,t.next=4,(0,I.XG)(e,s.amount,d.current);case 4:r=t.sent,n(r),(0,i.JG)("balances"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),[e,t])}},M=n(6265),G=n(3119),z=n(4184),H=n.n(z),U=n(1658);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=f.ZP.input.withConfig({displayName:"WithdrawInfo__Input",componentId:"sc-19wujz4-0"})(["background-color:transparent;border:0;width:100%;outline:none;font-size:14px;margin:0;padding:0;line-height:14px;"]),Q=(0,s.jsxs)(s.Fragment,{children:["Your withdrawal request will be processed to the nearest batch time for withdrawal. Withdrawals are executed 3 times a day during weekdays at 02:00 UTC, 07:00 UTC, and 07:30 UTC; and twice a day during weekends at 07:00 UTC and 07:30 UTC.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"WARNING: Please make sure to double-check your wallet address is correct."]}),Y=function(e){var t,n,r,i,l=e.submit,a=e.loading,o=e.register,c=e.errors,u=e.walletCheck,x=e.setValue,h=e.handleSubmit,m=e.selectedToken,p=e.feeLimits,f=(0,D.T)(m.minimumOrder,m.minimumWithdraw);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("form",{onSubmit:h(l),children:[(0,s.jsxs)("div",{className:"flex flex-col mx-auto text-center justify-center items-center text-indigo-900 max-w-2xl",children:[(0,s.jsxs)(d.Z,{container:!0,spacing:1,children:[(0,s.jsx)(d.Z,{item:!0,xs:12,children:(0,s.jsxs)("div",{className:H()("py-3 px-5 flex rounded w-full text-left",c.address?"bg-error":"bg-indigo-900"),children:[(0,s.jsxs)("div",{className:"w-full md:w-2/3",children:[(0,s.jsx)("p",{className:"text-3xs mb-1 text-white",children:"Withdrawal address"}),(0,s.jsx)("p",{className:"text-white break-words",children:null!==(t=m.withdrawAddress)&&void 0!==t?t:"Please set a withdrawal address first."})]}),(null===m||void 0===m?void 0:m.withdrawAddressTag)&&(0,s.jsxs)("div",{className:"ml-6",children:[(0,s.jsx)("p",{className:"text-3xs text-white mb-1",children:"Withdrawal Tag"}),(0,s.jsx)("p",{className:"text-white",children:null===m||void 0===m?void 0:m.withdrawAddressTag})]})]})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:7,children:(0,s.jsxs)("div",{className:H()("py-3 px-5 rounded w-full text-left",c.amount?"bg-error":"bg-indigo-900"),children:[(0,s.jsx)("p",{className:"text-3xs text-white",children:"Quantity to withdraw"}),(0,s.jsx)(X,V({type:"number",step:1/Math.pow(10,m.operationalDecimals),className:"text-white",disabled:a},o("amount",{required:!0,valueAsNumber:!0,min:{value:null!==f&&void 0!==f?f:0,message:"Amount is less than the minimum withdrawal or cannot cover the withdrawal fee"},max:{value:null!==(n=null===m||void 0===m?void 0:m.balance)&&void 0!==n?n:0,message:"Insufficient funds"}})))]})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:5,children:(0,s.jsxs)("div",{className:"h-full py-3 px-5 rounded w-full text-left",style:{background:"#8172FF"},children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("p",{className:"text-3xs text-white mb-1",children:"Balance in wallet"}),(0,s.jsx)("button",{type:"button",className:"text-3xs text-indigo-900 mb-1 underline cursor-pointer",onClick:function(){x("amount",Number(null===m||void 0===m?void 0:m.balance))},children:"Input all balance"})]}),(0,s.jsxs)("h3",{className:"text-white font-light leading-4",children:[null===m||void 0===m?void 0:m.balance,"\xa0",null===m||void 0===m?void 0:m.symbol]})]})})]}),(0,s.jsx)(d.Z,{item:!0,xs:12,children:(0,s.jsx)("p",{className:"text-error mt-4",children:null===c||void 0===c||null===(r=c.amount)||void 0===r?void 0:r.message})}),(0,s.jsx)(d.Z,{item:!0,xs:12,children:(0,s.jsx)("div",{className:"text-xs italic mt-4",children:Q})})]}),(0,s.jsx)("div",{className:"flex justify-between text-right mt-10",children:a||!p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"flex justify-center px-10",children:(0,s.jsx)(G.Z,{color:"#2601cf",className:"w-8 h-8"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{type:"button",className:H()("text-xs border pt-1 pb-2 pl-4 pr-6 rounded focus:outline-none",u?"border-purple-650 bg-purple-650":"border-gray",c.walletCheck&&"border-error"),children:(0,s.jsx)(U.Z,V(V({className:"items-center",labelClassName:"text-black",bgColor:"#8172FF",borderColor:u?"#FFF":"#C8C8C8",disabled:a,error:null===(i=c.walletCheck)||void 0===i?void 0:i.message},o("walletCheck",{required:!0})),{},{children:(0,s.jsx)("span",{className:H()("text-sm",u?"text-white":"text-gray"),children:"Wallet address is correct."})}))}),(0,s.jsx)("button",{type:"submit",className:H()("text-sm border py-2 w-1/5 rounded",0!==Object.keys(c).length?"text-error border-error":"text-indigo border-indigo"),children:"Send"})]})})]})})},$=function(e){var t=e.close,n=e.result;return(0,s.jsxs)("div",{className:"mt-10 flex text-center justify-center flex-col align-center text-indigo-900",children:[n.isSuccess?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-font-400 mb-1",children:"Completed"}),(0,s.jsx)("h1",{className:"font-thin text-3xl",children:"Thank you"}),(0,s.jsxs)("p",{className:"mb-10 font-light text-regular mt-8",children:["Please check you email and confirm the",(0,s.jsx)("br",{})," withdrawal."]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-error font-thin text-3xl",children:"Failed"}),(0,s.jsx)("p",{className:"mb-10 text-error text-regular mt-1",children:null===n||void 0===n?void 0:n.message})]}),(0,s.jsx)("div",{className:"text-right mt-20",children:(0,s.jsx)("button",{type:"button",onClick:t,className:H()("text-xs border py-2 px-16 rounded ",n.isSuccess?"text-indigo border-indigo":"text-error border-error"),children:"Done"})})]})},J=f.ZP.div.withConfig({displayName:"Withdraw__InfoLayout",componentId:"sc-189ptph-0"})(["border-bottom:1px solid #d8d8df;"]),K=function(e){var t,n=e.close,r=e.selectedToken,a=e.setResult,d=e.result,o=L(r,n,a),c=o.loading,u=o.submit,x=(0,B.cI)(),h=x.register,m=x.handleSubmit,p=x.setValue,f=x.setError,b=x.clearErrors,j=x.formState.errors,v=x.watch,w=v("amount"),g=(0,i.ZP)("feeLimits",E.G).data,N=(0,l.useMemo)((function(){var e,t;return g&&null!==(e=null===(t=g.find((function(e){return e.symbol===r.symbol&&e.coinContractName===r.contractName})))||void 0===t?void 0:t.fee)&&void 0!==e?e:null}),[g]),k=(0,D.T)(null!==N&&void 0!==N?N:0,null!==(t=r.minimumWithdraw)&&void 0!==t?t:0);(0,l.useEffect)((function(){p("amount",N?k:0)}),[N]),(0,l.useEffect)((function(){r.withdrawAddress||f("address",{message:"Please setup a withdrawal address first."})}),[r.withdrawAddress]),(0,l.useEffect)((function(){v("amount")>Number(k)&&b("amount")}),[v("amount")]);var C=w?new(R())(Math.max((0,D.gq)(w,null!==N&&void 0!==N?N:0),0)).toFixed():0;return d?(0,s.jsx)($,{result:d,close:n}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-center text-xl font-light text-indigo-900",children:null===r||void 0===r?void 0:r.contractName}),(0,s.jsx)("h2",{className:"text-center text-xl font-light text-indigo-900",children:"".concat(null===r||void 0===r?void 0:r.symbol," ").concat(null===r||void 0===r?void 0:r.name)}),(0,s.jsxs)(J,{className:"flex mx-auto text-center justify-between max-w-2xl text-indigo-900 pb-5 pt-8",children:[(0,s.jsxs)("div",{className:"flex-1 text-left",children:[(0,s.jsx)("p",{className:"text-2xs",children:"Minimum withdrawal"}),(0,s.jsxs)("h3",{className:"font-light",children:[null===r||void 0===r?void 0:r.minimumWithdraw,"\xa0",null===r||void 0===r?void 0:r.symbol]})]}),(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("p",{className:"text-2xs",children:"Withdrawal fee"}),null!==N&&(0,s.jsxs)("h3",{className:"font-light",children:[N,"\xa0",null===r||void 0===r?void 0:r.symbol]})]}),(0,s.jsxs)("div",{className:"flex-1 text-right",children:[(0,s.jsx)("p",{className:"text-2xs",children:"What you will get"}),(0,s.jsx)("h3",{className:"font-light",children:N&&w?(0,y.p)(C):"0"})]})]}),(0,s.jsx)("div",{className:"w-full mt-3",children:(0,s.jsx)(Y,{selectedToken:r,loading:c,submit:u,errors:j,walletCheck:v("walletCheck"),register:h,handleSubmit:m,setValue:p,feeLimits:g})})]})},ee=n(5820),te=n(7283);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,M.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=f.ZP.div.withConfig({displayName:"Address__InputS",componentId:"sc-1c1588j-0"})(["width:35%;margin-left:5%;"]);var ie=function(e){var t=e.submit,n=e.loading,r=e.selectedToken,i=e.close,a=(0,B.cI)(),o=a.register,c=a.handleSubmit,u=a.setValue,x=null===r||void 0===r?void 0:r.symbol,h=null===r||void 0===r?void 0:r.name,m=null===r||void 0===r?void 0:r.contractName,p=null===r||void 0===r?void 0:r.withdrawAddress,f=null===r||void 0===r?void 0:r.withdrawAddressTag;return(0,l.useEffect)((function(){u("addressTag","")}),[]),(0,s.jsx)("form",{onSubmit:c(t),children:(0,s.jsxs)("div",{className:"flex flex-col mx-auto text-center justify-center items-center text-indigo-900 max-w-2xl",children:[(0,s.jsx)("h3",{className:"text-center text-xl font-light",children:m}),(0,s.jsx)("h2",{className:"text-center text-xl font-light",children:"".concat(x," ").concat(h)}),(0,s.jsx)("hr",{className:"border-gray-200"}),(0,s.jsxs)("div",{className:"mt-4 md:mt-8 p-4 flex flex-col justify-between bg-indigo-900 text-center text-white rounded w-full",children:[(0,s.jsx)("span",{className:"text-xs md:text-md font-light",children:"Withdraw Address"}),(0,s.jsxs)("span",{className:"text-sm md:text-lg font-bold md:font-light break-words",children:[p||"Please setup a withdraw address",f&&(0,s.jsx)("span",{className:"ml-3",children:f})]})]}),(0,s.jsxs)("div",{className:"mt-4 w-full",children:[(0,s.jsx)("p",{className:"text-xs text-indigo my-4",children:"Please enter your desired transfer wallet address for this token."}),(0,s.jsx)(d.Z,{container:!0,spacing:1,children:(0,s.jsx)(d.Z,{item:!0,xs:12,children:(0,s.jsxs)("div",{className:"flex justify-between rounded w-full text-left",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(te.ZP,se({id:"withdrawAddress",type:"text",disabled:n,label:"Address"},o("address",{required:!0})))}),"XRP"===x&&(0,s.jsx)(re,{children:(0,s.jsx)(te.ZP,se({id:"withdrawAddressTag",type:"text",disabled:n,label:"Address Tag"},o("addressTag",{required:!1})))})]})})})]}),(0,s.jsxs)("div",{className:"w-full mt-8 flex justify-between",children:[(0,s.jsx)(ee.Z,{type:"button",onClick:i,className:"mt-12 x-16 px-8 md:px-16 border border-gray-200 text-indigo text-sm",children:"Cancel"}),(0,s.jsx)(ee.Z,{type:"submit",className:"mt-12 ml-auto px-8 md:px-16 border border-indigo text-indigo text-sm",children:"Confirm"})]})]})})};var le=function(e){var t=e.tabIndex,n=e.setTabIndex,r=e.selectedToken,a=e.selectedProduct,o=e.close,c=function(e,t){var n=(0,l.useState)(!1),s=n[0],r=n[1];(0,l.useEffect)((function(){e||r(!1)}),[e]);var a=(0,W.E)();return{addLoading:s,addSubmit:(0,l.useCallback)(function(){var n=(0,S.Z)(T().mark((function n(s){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0),n.prev=1,n.next=4,(0,I.$S)(e,s.addressTag,s.address,a.current);case 4:t(),A.fn.success("Successful"),(0,i.JG)("balances"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),t(),A.fn.error(n.t0.message,"An error occurred");case 13:return n.prev=13,r(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})));return function(e){return n.apply(this,arguments)}}(),[e,t])}}(r,o),u=c.addLoading,x=c.addSubmit,h=(0,l.useState)(null),m=h[0],p=h[1];(0,l.useEffect)((function(){p(null)}),[r]);var f=!!r;return(0,s.jsx)(N.Z,{className:"w-11/12 md:max-w-4xl mt-16 mx-auto px-4 py-8 md:px-9 pb-12 bg-white rounded",show:!!r||!!a,close:o,children:(0,s.jsxs)(d.Z,{container:!0,children:[(0,s.jsx)(d.Z,{item:!0,xs:6,children:(0,s.jsx)("h1",{className:"text-indigo-900",children:"Wallet"})}),(0,s.jsx)(d.Z,{item:!0,xs:6,className:"text-right",children:(0,s.jsx)("a",{className:"text-xs text-gray-600 cursor-pointer",onClick:o,children:"Close"})}),!m&&(0,s.jsx)(d.Z,{item:!0,xs:12,className:"mt-3",children:(0,s.jsx)(Z,{tabIndex:t,setTabIndex:n,menu:f?[{tabIndex:0,menu:"Deposit"},{tabIndex:1,menu:"Withdraw Request"},{tabIndex:2,menu:"Withdraw Address"}]:[{tabIndex:0,menu:"Deposit"}]})}),(0,s.jsx)(d.Z,{item:!0,xs:12,children:(0,s.jsxs)("div",{className:"pt-8 md:pt-16",children:[(a||0===t)&&(0,s.jsx)(j.Z,{children:(0,s.jsx)(_,{selectedProduct:a,selectedToken:r})}),1===t&&(0,s.jsx)(j.Z,{children:(0,s.jsx)(K,{selectedToken:r,setResult:p,result:m,close:o})}),2===t&&(0,s.jsx)(j.Z,{children:(0,s.jsx)(ie,{selectedToken:r,submit:x,loading:u,close:o})})]})})]})})},ae=n(2161),de=n(8126),oe=n(4454),ce=n(3490),ue=n(3788),xe=n(9306);var he=function(e){var t=e.setSelectedProduct,n=(0,l.useState)(0),r=n[0],i=n[1],a=(0,l.useState)(""),d=a[0],o=a[1],u=(0,l.useState)(null),x=u[0],h=u[1],m=(0,ce.r)({filters:{product:ue.bQ[r].key,contractName:x,name:d}}),p=m.filteredProducts,f=m.loading;(0,l.useEffect)((function(){o("")}),[r]);var b=(0,l.useState)(!1),v=b[0],w=b[1],g=(0,l.useRef)(null),y=function(){if(v){if(d)return;w(!1)}else g.current.focus(),w(!0)},N=(0,ae.$G)("common").t;return(0,s.jsx)(s.Fragment,{children:!f&&(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(c.Z,{tab:r,setTab:i,menu:ue.bQ.map((function(e,t){var n=e.title,s=e.subtitle;return{id:t,menu:N(n),title:N(s)}}))}),(0,s.jsx)("div",{style:{borderTop:"1px solid #0B0917"},children:(0,s.jsxs)(de.Z,{children:[(0,s.jsx)(de.Z.Item,{selected:!x,onClick:function(){return h(null)},children:"All"}),(0,s.jsx)(de.Z.Item,{selected:"Bitcoin"===x,onClick:function(){return h("Bitcoin")},children:"BTC Chain"}),(0,s.jsx)(de.Z.Item,{selected:"ERC20"===x,onClick:function(){return h("ERC20")},children:"ERC20 Chain"}),(0,s.jsx)(de.Z.Item,{selected:"BSC"===x,onClick:function(){return h("BSC")},children:"BSC Chain"}),(0,s.jsx)(de.Z.Item,{selected:"XRP"===x,onClick:function(){return h("XRP")},children:"XRP Chain"})]})}),(0,s.jsxs)(oe.FilterComponentSearch,{onClick:y,children:[(0,s.jsx)(oe.SearchInput,{ref:g,placeholder:"Search token...",value:d,onBlur:function(){d||w(!1)},onKeyPress:function(e){"Enter"===e.key&&y()},onChange:function(e){return null===o||void 0===o?void 0:o(e.target.value)},style:v?{width:"100%",paddingLeft:"20px"}:{width:0}}),(0,s.jsx)(oe.SearchButton,{src:"/assets/search.png",alt:"Search token"})]}),(0,s.jsx)(xe.Z,{sortKey:"name",products:p,onProductClick:t})]})})},me=function(e){var t=e.data,n=e.contentRef;return(0,s.jsxs)("div",{ref:n,children:[(0,s.jsx)("h3",{children:"Wallets"}),(0,s.jsxs)("table",{className:"border-collapse w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border border-black p-1",children:"Network"}),(0,s.jsx)("th",{className:"border border-black p-1",children:"TrueUSD"}),(0,s.jsx)("th",{className:"border border-black p-1",children:"Balance"}),(0,s.jsx)("th",{className:"border border-black p-1",children:"Wallet Address"})]})}),(0,s.jsx)("tbody",{children:t&&0!==t.length?null===t||void 0===t?void 0:t.map((function(e){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border border-black p-1",children:e.contractName}),(0,s.jsx)("td",{className:"border border-black p-1",children:e.symbol}),(0,s.jsxs)("td",{className:"border border-black p-1",children:[e.balance," ",e.symbol]}),(0,s.jsx)("td",{className:"border border-black p-1",children:e.depositAddress})]},e.id)})):"No data"})]})]})},pe=(0,f.ZP)(w.r8).withConfig({displayName:"Wallet__WalletItem",componentId:"sc-1xntti3-0"})(["width:calc(15% - 30px);&:nth-child(4){width:calc(40% - 30px);}@media only screen and (max-width:768px){width:calc(100% / 3);padding:5px 0;&:nth-child(1){width:25%;}&:nth-child(2){width:30%;}&:nth-child(3){width:45%;text-align:right;padding-right:20px;span{text-align:right;}}&:nth-child(4){padding:10px 20px;width:100%;word-break:break-all;}}"]),fe=(0,f.ZP)(w.iA).withConfig({displayName:"Wallet__WalletRow",componentId:"sc-1xntti3-1"})([""]),be=[{label:"Network",key:"contractName"},{label:"Name",key:"symbol"},{label:"Balance",key:"balance"},{label:"Wallet Address",key:"depositAddress"}],je=function(e){var t,n=e.type,r=(0,l.useState)(0),i=r[0],a=r[1],d=(0,l.useState)(),o=d[0],c=d[1],u=(0,l.useState)(null),x=u[0],h=u[1],m=(0,l.useCallback)((function(){h(null),c(null)}),[]),f=(0,l.useState)(""),N=f[0],k=f[1],C=(0,l.useState)(!0),Z=C[0],P=C[1],T=(0,g.Z)({show:Z,searchValue:N}),S=T.filteredBalances,A=T.data,I=T.loading,W=(0,l.useRef)(),O=(0,l.useRef)();return(0,s.jsxs)("div",{children:[(0,s.jsx)(le,{tabIndex:i,setTabIndex:a,selectedToken:o,selectedProduct:x,close:m}),0===n&&(!I&&A&&0!==(null===A||void 0===A||null===(t=A.models)||void 0===t?void 0:t.length)?(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(v.z,{filterStyle:2,setSearch:k,search:N,handlePrint:function(){O.current.contentWindow.document.write(W.current.innerHTML),O.current.contentWindow.close(),O.current.focus(),O.current.contentWindow.print()},showAmount:Z,setShowAmount:function(){return P(!Z)},download:{downloadHeader:be,downloadData:A.models,downloadFilename:"wallet"}}),(0,s.jsx)("iframe",{title:"contentsToPrint",ref:O,style:{height:0,width:0,position:"absolute",zIndex:-1},children:(0,s.jsx)(me,{data:null===A||void 0===A?void 0:A.models,contentRef:W})}),(0,s.jsx)(p.x,{className:"py-10",children:0!==S.length?null===S||void 0===S?void 0:S.map((function(e){var t;return(0,s.jsxs)(fe,{children:[(0,s.jsxs)(pe,{children:[(0,s.jsx)("span",{children:"Network"}),e.contractName]}),(0,s.jsxs)(pe,{children:[(0,s.jsx)("span",{children:e.name}),e.symbol]}),(0,s.jsxs)(pe,{children:[(0,s.jsx)("span",{children:"Balance"}),"".concat((0,y.p)(e.balance)," ").concat(e.symbol)]}),(0,s.jsxs)(pe,{children:[(0,s.jsx)("span",{children:"Wallet Address"}),null!==(t=null===e||void 0===e?void 0:e.withdrawAddress)&&void 0!==t?t:(0,s.jsx)("div",{className:"underline hover:text-purple-650",onClick:function(){c(e),a(2)},children:"Setup a withdrawal address"})]}),(0,s.jsxs)(w.Bp,{children:[(0,s.jsx)(w.Px,{onClick:function(){c(e),a(0)},children:"Deposit"}),(0,s.jsx)(w.Px,{onClick:function(){c(e),a(1)},children:"Withdraw"})]})]},e.id)})):S&&(0,s.jsx)(b.Z,{text:"NO WALLET"})})]}):A&&(0,s.jsx)(b.Z,{text:"NO WALLET"})),1===n&&(0,s.jsx)(he,{setSelectedProduct:h})]})},ve=n(4693),we=n(6989),ge=n(5239),ye=n(6030),Ne=n(1474),ke=n(6698),Ce=n(3898),Ze=!0,Pe=ge.NA?[{pathname:"/wallet",menu:"Wallet"},{pathname:"/wallet/history",menu:"History"},{pathname:"/wallet/address",menu:"Address Management"}]:[{pathname:"/wallet",menu:"Wallet"},{pathname:"/wallet/history",menu:"History"}],Te=function(){var e,t,n,f,b=(0,l.useState)(0),j=b[0],v=b[1],w=(0,g.Z)({}).data,N=(0,i.ZP)("totalActiveSavings",ye._G).data,k=(0,i.ZP)("fetchWalletBalanceInUSD",ke.o).data;return(0,s.jsxs)(we.f,{children:[(0,s.jsx)(r.default,{children:(0,s.jsx)("title",{children:"Wallet"})}),(0,s.jsx)(Ce.Main,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(h.Z,{}),(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(u.Z,{title:"Wallet",menu:Pe}),(0,s.jsxs)("div",{className:"pt-16 pb-16 text-center",children:[(0,s.jsx)("h1",{className:"text-white text-2xl mb-4",children:"Your Pokket Wallet"}),(0,s.jsxs)("p",{className:"text-xs text-purple-350",children:["Here is your wallet within Pokket, with the list of all available tokens. ",(0,s.jsx)("br",{})," You can send or receive tokens from the list below.",(0,s.jsx)("br",{}),"To add new tokens to your wallet, choose from All Wallets menu."]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)(d.Z,{container:!0,spacing:(0,Ne.Z)({xs:1,lg:4}),children:[(0,s.jsx)(d.Z,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{title:"Estimated Value in Wallet",total:null!==(e=(0,y.p)(k,4))&&void 0!==e?e:"-",background:"#0B0917"})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{title:"Estimated Value in Active Savings",total:"$ ".concat((0,y.p)(null!==(t=null===N||void 0===N?void 0:N.activeDeposit)&&void 0!==t?t:0,4)),background:"#0B0917"})}),(0,s.jsx)(d.Z,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{title:"Total Available Tokens",total:"".concat(null!==(n=null===w||void 0===w||null===(f=w.models)||void 0===f?void 0:f.length)&&void 0!==n?n:"-"),background:"#0B0917"})})]})})]}),(0,s.jsx)(c.Z,{tab:j,setTab:v,menu:[{id:0,menu:"My Wallet"},{id:1,menu:"All Wallets"}]})]}),(0,s.jsx)(p.H,{children:(0,s.jsx)(a.Z,{children:(0,s.jsx)(je,{type:j})})}),(0,s.jsx)(m.Z,{})]})}),(0,s.jsx)(ve.Z,{})]})}},5239:function(e,t,n){"use strict";n.d(t,{NA:function(){return s},tD:function(){return r},fZ:function(){return i},Dw:function(){return l},bw:function(){return a}});var s=!1,r=!0,i=!1,l=!1,a=!1}}]);