(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4454],{1570:function(e,t,r){"use strict";r.d(t,{r:function(){return c},g:function(){return d}});var n=r(809),o=r.n(n),a=r(2447),l=r(5917),i=r(9690);function c(e,t){return s.apply(this,arguments)}function s(){return(s=(0,a.Z)(o().mark((function e(t,r){var n,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/User/requestKyc",{signal:null===r||void 0===r?void 0:r.signal,method:"POST",credentials:"include",headers:{Authorization:"Bearer ".concat(null===(n=(0,i.nr)())||void 0===n?void 0:n.token),"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return a=e.sent,e.next=5,a.json();case 5:if(0===(c=e.sent).errorCode){e.next=8;break}throw new l.H(c);case 8:return e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)(o().mark((function e(t){var r,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getKycBlockLimit",{signal:null===t||void 0===t?void 0:t.signal,method:"GET",credentials:"include",headers:{Authorization:"Bearer ".concat(null===(r=(0,i.nr)())||void 0===r?void 0:r.token),"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(0===(a=e.sent).errorCode){e.next=8;break}throw new l.H(a);case 8:return e.abrupt("return",a.data.kycBlockLimit);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1658:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(5893),o=r(6265),a=r(4121),l=r(8347),i=r(7294),c=r(8117),s=r(4184),d=r.n(s);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.color,r=void 0===t?"white":t,o=(0,l.Z)(e,["color"]);return(0,n.jsx)("svg",p(p({xmlns:"http://www.w3.org/2000/svg",width:"9.899",height:"9.899",viewBox:"0 0 9.899 9.899"},o),{},{children:(0,n.jsx)("path",{fill:r,fillRule:"evenodd",d:"M9.19238855 3.5355351c.39028106.39028127.39028088 1.0239325-4e-7 1.41421356l-3.5355349 3.53553291c-.12874146.1287414-.2840253.2150581-.44828609.25882064-.04376263.16426075-.13007942.31954456-.25882088.44828595-.39028128.39028105-1.0239325.39028087-1.41421357-4e-7L.70710638 6.36395984c-.39028105-.39028128-.39028087-1.0239325 4e-7-1.41421356.39028128-.39028106 1.0239325-.39028088 1.41421356 4e-7L4.2426401 7.0710676 7.778175 3.5355347c.39028128-.39028106 1.0239325-.39028088 1.41421356 4e-7z"})}))},x=r(6684);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=c.ZP.input.withConfig({displayName:"Checkbox__CheckboxComponent",componentId:"sc-1fos35d-0"})(["display:none;"]),y=c.ZP.span.withConfig({displayName:"Checkbox__Check",componentId:"sc-1fos35d-1"})(["transition:150ms cubic-bezier(0.4,0,0.2,1);"," > svg{visibility:hidden;}",":checked ~ &{border-color:",";background-color:",";> svg{margin-top:-0.125rem;width:0.7rem;height:0.7rem;visibility:visible;}}"],(function(e){var t=e.borderColor;return t&&(0,c.iv)(["border-color:",";"],t)}),b,(function(e){return e.borderColor}),(function(e){return e.bgColor})),v=c.ZP.div.withConfig({displayName:"Checkbox__Label",componentId:"sc-1fos35d-2"})(["top:2px;width:calc(100% - 1.125rem);"]);function g(e,t){var r=e.error,o=e.bgColor,c=e.borderColor,s=e.children,u=e.className,p=e.labelClassName,f=(0,l.Z)(e,["error","bgColor","borderColor","children","className","labelClassName"]),g=(0,x.t)(t),j=(0,a.Z)(g,2),N=j[0],k=j[1],w=(0,i.useCallback)((function(){var e;null===(e=N.current)||void 0===e||e.click()}),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:d()("flex flex-row-reverse justify-end items-start cursor-pointer",u),onClick:w,children:[(0,n.jsx)(b,h({type:"checkbox",ref:k},f)),(0,n.jsx)(v,{className:d()("ml-2 cursor-pointer leading-6 relative font-light text-nav",p),children:s}),(0,n.jsx)(y,{className:d()("w-5 h-5 mt-1 flex justify-center items-center rounded border border-solid",r?"border-error":"border-gray"),bgColor:o,borderColor:c,children:(0,n.jsx)(m,{})})]}),(0,n.jsx)("span",{className:"text-sm text-error",children:r})]})}var j=i.forwardRef(g)},7283:function(e,t,r){"use strict";r.d(t,{fv:function(){return f},hW:function(){return h},am:function(){return b},AZ:function(){return g}});var n=r(5893),o=r(6265),a=r(4121),l=r(8347),i=r(7294),c=r(8117),s=r(4184),d=r.n(s),u=r(2161),p=r(6684);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=c.ZP.div.withConfig({displayName:"Input__InputContainer",componentId:"sc-1kl4ydl-0"})(["transition:all 150ms cubic-bezier(0.4,0,0.2,1);"]),h=c.ZP.span.withConfig({displayName:"Input__ErrorLabel",componentId:"sc-1kl4ydl-1"})(["left:0;bottom:-1.5rem;transition:opacity 150ms cubic-bezier(0.4,0,0.2,1);"]),b=c.ZP.input.withConfig({displayName:"Input__InputComponent",componentId:"sc-1kl4ydl-2"})([""]),y=c.ZP.span.withConfig({displayName:"Input__ShowPassword",componentId:"sc-1kl4ydl-3"})(["top:50%;right:2rem;transform:translateY(-50%);transition:opacity 150ms cubic-bezier(0.4,0,0.2,1);",":focus ~ &{opacity:1;}",":not(:placeholder-shown) ~ &{opacity:1;}"],b,b),v=(0,c.iv)(["color:#939295;transform:translate(-12.5%,-5%) scale(0.75);"]),g=c.ZP.label.withConfig({displayName:"Input__InputLabel",componentId:"sc-1kl4ydl-4"})(["transform:translateY(50%);transition:all 150ms cubic-bezier(0.4,0,0.2,1);",":focus + &{","}",":not(:placeholder-shown) + &{","}"],b,v,b,v);function j(e,t){var r=e.id,o=e.type,c=e.label,s=e.error,m=e.disabled,v=e.required,j=e.className,N=e.autoFocus,k=e.placeholder,w=(0,l.Z)(e,["id","type","label","error","disabled","required","className","autoFocus","placeholder"]),C=(0,p.t)(t),O=(0,a.Z)(C,2),T=O[0],P=O[1],S=(0,i.useCallback)((function(){T.current.focus()}),[]),Z=(0,u.$G)("common").t;(0,i.useEffect)((function(){N&&T.current.focus()}),[]);var R=(0,i.useState)(!1),E=R[0],D=R[1],I=(0,i.useMemo)((function(){return"password"!==o?o:E?"text":"password"}),[o,E]),_=(0,i.useCallback)((function(e){e.stopPropagation(),D((function(e){return!e}))}),[]);return(0,n.jsxs)(f,{className:d()("px-4 py-2 relative flex flex-col-reverse border border-solid rounded cursor-text select-none",m&&["cursor-not-allowed","bg-gray-100"],s?"border-error":"border-gray-200",j),onClick:S,children:[(0,n.jsx)(b,x({className:"w-full outline-none bg-transparent",id:r,ref:P,type:I,required:v,disabled:m,placeholder:null!==k&&void 0!==k?k:" "},w)),c&&(0,n.jsxs)("div",{children:[(0,n.jsxs)(g,{className:d()("relative text-base",m?["cursor-not-allowed","text-gray-700"]:["cursor-text","text-black"]),htmlFor:r,children:[c,v&&(0,n.jsx)("span",{className:"absolute text-xs text-red-600",children:"*"})]}),(0,n.jsx)(h,{className:d()("ml-4 md:ml-2 text-error",s?"opacity-100":"opacity-0"),children:s})]}),(0,n.jsx)(y,{className:d()("absolute text-sm text-gray cursor-pointer opacity-0",m?"cursor-not-allowed":"cursor-pointer",{invisible:"password"!==o}),inputType:o,onClick:m?void 0:_,children:Z(E?"hide":"show")})]})}t.ZP=i.forwardRef(j)},3568:function(e,t,r){"use strict";var n=r(6265),o=r(5893),a=r(8347),l=r(8117);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=l.ZP.div.withConfig({displayName:"GroupButton__Layout",componentId:"sc-13c17ej-0"})(["width:100%;border:1px solid #2d2554;display:flex;border-radius:3px;"]),d=l.ZP.div.withConfig({displayName:"GroupButton__Item",componentId:"sc-13c17ej-1"})(["cursor:pointer;font-size:14px;padding:12px 18px;color:",";background:",";width:calc(100% / ",");"],(function(e){return e.color}),(function(e){return e.background}),(function(e){return e.count}));t.Z=function(e){var t,r=e.items,n=e.state,l=e.setState,i=e.children,u=(0,a.Z)(e,["items","state","setState","children"]);return(0,o.jsxs)(s,c(c({},u),{},{children:[null!==(t=null===r||void 0===r?void 0:r.map((function(e){return(0,o.jsx)(d,{onClick:function(){return null===l||void 0===l?void 0:l(e.id)},count:r.length,color:n===e.id?"white":"#8e82c7",background:n===e.id?"#2C2551":"transparent",children:e.title},e.id)})))&&void 0!==t?t:null,i]}))}},8126:function(e,t,r){"use strict";var n=r(6265),o=r(8347),a=r(5893),l=r(8117);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=l.ZP.div.withConfig({displayName:"network__NetworkGroup",componentId:"sc-1gx0idn-0"})(["width:100%;background-color:#110e22;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;color:#fff;border-top-left-radius:5px;border-top-right-radius:5px;overflow:hidden;"]),d=l.ZP.div.withConfig({displayName:"network__Network",componentId:"sc-1gx0idn-1"})(["padding:30px 0px;text-align:center;cursor:pointer;"," &:hover{background-color:#1f193e;color:#fff;}@media only screen and (max-width:768px){padding:15px 10px;display:flex;white-space:pre-wrap;align-items:center;justify-content:center;}"],(function(e){return e.selected?(0,l.iv)(["background-color:#1f193e;color:#fff;"]):(0,l.iv)(["color:#9287ca;"])})),u=function(e){var t=e.children;return(0,a.jsx)(s,{children:t})};u.Item=function(e){var t=e.selected,r=e.children,n=(0,o.Z)(e,["selected","children"]);return(0,a.jsx)(d,c(c({selected:t},n),{},{children:r}))},t.Z=u},4644:function(e,t,r){"use strict";var n=r(7294),o=r(5745),a=r(5723);t.Z=function(e){var t=e.show,r=e.searchValue,l=(0,a.ZP)("balances",o.J4).data;return{filteredBalances:(0,n.useMemo)((function(){return null===l||void 0===l?void 0:l.models.filter((function(e){return!(r&&!e.symbol.toLowerCase().includes(r.toLowerCase()))})).filter((function(e){var r=e.balance;return!("boolean"===typeof t&&!t)||Number(r)>0}))}),[l,r,t]),loading:!l,data:l}}},896:function(e,t,r){"use strict";r.d(t,{l:function(){return a},u:function(){return l}});var n=r(8779),o=r(5723),a=function(e){var t=e.stablecoin,r=(0,o.ZP)("coinContracts",(function(){return(0,n.UR)(t)})).data;return{loading:!r,data:r}},l=function(){var e=(0,o.ZP)("supportedContracts",(function(){return(0,n.x2)()})).data;return{loading:!e,data:e}}},743:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});var n=r(5723),o=r(1570);function a(){var e=(0,n.ZP)("kycBlockLimit",o.g),t=e.data;return{data:t,error:e.error,loading:!t}}},6684:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(7294);function o(e){var t=(0,n.useRef)(),r=(0,n.useCallback)((function(r){t.current=r,e&&("function"===typeof e?e(r):"object"===typeof e&&(e.current=r))}),[e]);return[t,r]}},4454:function(e,t,r){"use strict";r.r(t),r.d(t,{FilterComponentSearch:function(){return Ie},SearchButton:function(){return _e},SearchInput:function(){return qe},__N_SSG:function(){return De},default:function(){return Le}});var n=r(5893),o=r(8117),a=r(1954),l=r(2438),i=r(3898),c=r(6989),s=r(4184),d=r.n(s),u=r(5723),p=r(3832),m=r(7294),x=r(2161),f=r(5958),h=r(8126),b=r(6794),y=r(3568),v=r(7677),g=r(1474),j=r(1749),N=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-4xl text-purple-350 text-center font-thin",children:[(0,n.jsx)("strong",{children:"Token "}),"Structured Saving"]}),(0,n.jsx)("div",{className:"w-full md:w-4/5 mx-auto mt-12",children:(0,n.jsxs)(j.Z,{container:!0,spacing:(0,g.Z)({xs:1,lg:4}),children:[(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"rounded-md h-full p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",style:{color:"#9287CA"},children:"Choose Token"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"from the list below to create new saving"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"rounded-md h-full p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Outcome 1"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"Principle and Interest paid in Token, if Token price is below Strike Price at Expiry"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"rounded-md h-full p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Outcome 2"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"Principle and Interest converted and paid in Underlying Stablecoin, if Token price is equal or above Strike Price at Expiry"})]})})]})}),(0,n.jsxs)("div",{className:"text-center py-7 font-light",children:[(0,n.jsxs)("p",{className:"text-sm text-purple-350",children:[(0,n.jsx)("b",{className:"font-bold",children:"Strike Price"})," = 110% x Starting Price at Settlement"]}),(0,n.jsxs)("p",{className:"text-xs text-purple-350 mt-3",children:["The ",(0,n.jsx)("b",{className:"font-bold",children:"Token Structured Savings"})," are suitable for short-term investments as the savings can mature in the underlying token depending on",(0,n.jsx)("br",{}),"market movements. It's a ",(0,n.jsx)("b",{className:"font-bold",children:"call option "}),"product that earns high interest with high risk."]})]})]})},k=r(9306),w=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-4xl text-purple-350 text-center font-thin",children:[(0,n.jsx)("strong",{children:"Simple Saving "}),"Straight Lending"]}),(0,n.jsx)("div",{className:"w-4/5 mx-auto mt-12",children:(0,n.jsxs)(j.Z,{container:!0,spacing:(0,g.Z)({xs:1,lg:4}),children:[(0,n.jsx)(j.Z,{item:!0,xs:12,md:6,children:(0,n.jsxs)("div",{className:"rounded-md p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Choose Token"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"from the list below to create new saving"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:6,children:(0,n.jsxs)("div",{className:"rounded-md p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Earn Interest"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"Interest paid in Original Token, regardless of price of the token"})]})})]})}),(0,n.jsx)("div",{className:"text-center py-7 font-light mb-10",children:(0,n.jsx)("p",{className:"text-sm text-purple-350",children:"The Simple Savings are suitable for longer-term investments as the savings are not tied to market movements."})})]})},C=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-4xl text-purple-350 text-center font-thin",children:[(0,n.jsx)("strong",{children:"Stablecoin "}),"Structured Saving"]}),(0,n.jsx)("div",{className:"w-full md:w-4/5 mx-auto mt-12",children:(0,n.jsxs)(j.Z,{container:!0,spacing:(0,g.Z)({xs:1,lg:4}),children:[(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"h-full rounded-md p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Choose Token"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"from the list below to create new saving"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"h-full rounded-md p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Outcome 1"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"Principle and Interest paid in Stablecoin, if Token price is above Strike Price at Expiry"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:4,children:(0,n.jsxs)("div",{className:"h-full rounded-md p-5 text-center",style:{border:"1px solid #1F193E"},children:[(0,n.jsx)("strong",{className:"text-purple-350",children:"Outcome 2"}),(0,n.jsx)("p",{className:"text-xs text-purple-350 mt-2",children:"Principle and Interest converted and paid in Underlying Token, if Token price is equal or below Strike Price at Expiry"})]})})]})}),(0,n.jsxs)("div",{className:"text-center py-7 font-light",children:[(0,n.jsxs)("p",{className:"text-sm text-purple-350",children:[(0,n.jsx)("b",{className:"font-bold",children:"Strike Price"})," = 91% x Starting Price at Settlement"]}),(0,n.jsxs)("p",{className:"text-xs text-purple-350 mt-3",children:["The ",(0,n.jsx)("b",{className:"font-bold",children:"Stablecoin Structured Saving"}),"s are suitable for short-term investments as the savings can mature in the underlying stablecoin depending on",(0,n.jsx)("br",{}),"market movements. It's a ",(0,n.jsx)("b",{className:"font-bold",children:"put option "}),"product that earns high interest with high risk."]})]})]})},O=r(3788),T=r(6030),P=r(896),S=r(3490),Z=r(5943),R=r(809),E=r.n(R),D=r(2447),I=r(6265),_=r(4488),q=r(7536),L=r(5745),U=r(3659),A=r(4644);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t){if("RESET"===t.type)return{step:1};if("BACK"===t.type){if(1===e.step)throw Error("Cannot go back on the first step");return 3===e.step&&t.payload.productType===L.kv.Lending?F(F({},e),{},{step:e.step-2}):F(F({},e),{},{step:e.step-1})}switch(e.step){case 1:if(!t.payload.quantity)throw Error("Expected quantity to be provided");return t.payload.productType===L.kv.Lending?{step:3,quantity:t.payload.quantity,expectedReturnNotCovert:t.payload.expectedReturnNotCovert,expectedReturnCovert:t.payload.expectedReturnCovert}:{step:2,quantity:t.payload.quantity,expectedReturnNotCovert:t.payload.expectedReturnNotCovert,expectedReturnCovert:t.payload.expectedReturnCovert,collateralContract:t.payload.collateralContract};case 2:if(!t.payload.collateralCoin)throw Error("Expected collateral to be provided");return t.payload.collateralContract?F(F({},e),{},{step:3,collateralCoin:t.payload.collateralCoin,collateralContract:t.payload.collateralContract}):F(F({},e),{},{step:3,collateralCoin:t.payload.collateralCoin});case 3:if("boolean"!==typeof t.payload.autoRoll)throw Error("Expected autoRoll to be provided");return F(F({},e),{},{step:4,autoRoll:t.payload.autoRoll});case 4:return F(F({},e),{},{step:5});default:throw Error("Cannot go to the next step on the last one")}}function M(e,t,r){var n=(0,m.useReducer)(z,{step:1}),o=n[0],a=n[1],l=(0,m.useMemo)((function(){return e?3!==o.step&&4!==o.step&&5!==o.step?(0,q.B)(e,t):e.wkly["".concat(null!==t&&void 0!==t?t:o.collateralCoin,"|").concat(o.collateralContract)]:null}),[e]),i=(0,A.Z)({}),c=i.data,s=i.loading,d=null===c||void 0===c?void 0:c.models.filter((function(n){return e?e.productType!==L.kv.CollateralToToken?n.symbol===e.symbol&&n.contractName===e.contractName:n.symbol===t&&n.contractName===r:null})),p=(0,m.useState)(!1),x=p[0],f=p[1],h=(0,m.useState)(null),b=h[0],y=h[1];(0,m.useEffect)((function(){null===e&&(a({type:"RESET"}),f(!1),y(null))}),[e]);var v=(0,_.U)(),g=(0,m.useCallback)((0,D.Z)(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(4===o.step){t.next=2;break}throw Error("Cannot submit incomplete form");case 2:return a({type:"NEXT",payload:{}}),f(!0),t.prev=4,t.next=7,(0,U.$P)(e,e.productType===L.kv.Lending?{amount:o.quantity,autoRoll:o.autoRoll,collateralType:"USDT",collateralContract:"ERC20"}:{amount:o.quantity,autoRoll:o.autoRoll,collateralType:o.collateralCoin,collateralContract:o.collateralContract});case 7:(0,u.JG)("deposits"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),y(t.t0.message);case 13:return t.prev=13,f(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[4,10,13,16]])}))),[o,e]);return{rates:l,state:o,error:b,tokenBalance:null===d||void 0===d?void 0:d[0],submit:g,dispatch:a,loading:x||s||v.loading}}var G=function(e){var t=e.selectedProduct,r=e.current,o=t.productType===L.kv.Lending?["Step 1",null,"Step 2"]:["Step 1","Step 2","Step 3"];return r<4&&(0,n.jsx)("div",{className:"flex justify-center border-b",children:o.map((function(e,t){return e&&(0,n.jsx)("div",{className:d()("py-5 mx-10 text-xs ",r!==t+1?"text-gray-500":"ext-indigo-900 border-b border-indigo-900"),children:e},e)}))})},H=r(2283),K=r(7283),Q=r(3119),X=r(5820),Y=r(4245),J=r(6882),W=r(743),$=r(8779),V=r(8237);function ee(e,t,r,n){switch(e.productType){case L.kv.Lending:return"".concat((0,J.p)(r,e.operationalDecimals)," ").concat(e.symbol);case L.kv.TokenToCollateral:return"".concat((0,J.p)(r,e.operationalDecimals)," ").concat(e.symbol," or ").concat((0,J.p)(n,4)," ").concat(t||"USD");case L.kv.CollateralToToken:return"".concat((0,J.p)(r,4)," ").concat(t," or ").concat((0,J.p)(n,e.operationalDecimals)," ").concat(e.symbol)}}function te(e,t,r,n,o,a){if(t){var l=function(e,t){switch(e.productType){case L.kv.Lending:case L.kv.TokenToCollateral:return"USDT|ERC20";case L.kv.CollateralToToken:return"".concat(t,"BUSD"!==t?"|ERC20":"|BSC")}}(e,r),i=e.wkly[l].actualWeeklyRate,c=e.beginExchangeRate[l],s=e.strikePrice[l],d=(0,V.uH)((0,V.T)(i,e.collateralRate),t),u=e.productType===L.kv.CollateralToToken?1:e.beginExchangeRate[l],p=(0,V.gq)(a,n),m=o===$.aW.Passed,x=(0,J.p)((0,V.uH)((0,V.T)(i,1),t),e.operationalDecimals),f=e.productType===L.kv.TokenToCollateral?(0,V.uH)(c,d):(0,V.SZ)((0,V.uH)((0,V.T)(i,1),t),s);return{expectedReturn:ee(e,r,x,f),exchangeToUSD:(0,V.uH)(u,t),returnNotConverted:x,returnConverted:f,maxAmountLimit:!m&&(0,V.SZ)(p,u)||null}}return{expectedReturn:"",returnNotConverted:"",returnConverted:0,exchangeToUSD:0,maxAmountLimit:0}}var re=r(3739);function ne(e,t,r){return t.productType!==L.kv.CollateralToToken?"".concat((0,J.p)(e)," ").concat(t.symbol):"".concat((0,J.p)(e,4)," ").concat(r)}var oe=function(e){var t=e.state,r=e.weeklyRate,o=e.annualRate,a=e.selectedProduct,l=e.stablecoin;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-center text-2xl font-light text-indigo-900",children:"".concat((0,re.n)(a.productType,Math.round(a.maturityPeriod),l))}),(0,n.jsx)("div",{className:"mb-4 text-center text-2xl text-indigo-900",children:"".concat(a.symbol," ").concat(a.name," (").concat(a.contractName,")")}),(0,n.jsx)("hr",{className:"border-gray-200"}),(0,n.jsxs)("div",{className:"mt-8 flex flex-row justify-between text-indigo-900",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs font-light",children:a.productType===L.kv.Lending?"Interest Rate":"One-week Interest Rate"}),(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:a.productType===L.kv.Lending?"".concat(o," APY"):"".concat(r," (").concat(o," APY)")})]}),(0,n.jsxs)("div",{className:"flex flex-col text-right",children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"Available Token Quota"}),(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:ne(a.availableQuota,a,l)})]})]}),(0,n.jsxs)("div",{className:"mt-6 p-4 flex flex-col justify-between bg-indigo-900 text-center text-white rounded",children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"Minimum Saving Amount"}),(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:ne(a.minimumOrder,a,l)})]}),t&&1!==t.step&&(0,n.jsxs)(n.Fragment,{children:[4===t.step&&(0,n.jsxs)("div",{className:d()("mt-4 p-4 flex justify-between bg-indigo text-center text-white rounded-t"),children:[(0,n.jsxs)("div",{className:"flex-1 text-left",children:[(0,n.jsx)("div",{className:"text-xs font-light",children:"Start Date"}),(0,n.jsx)("div",{className:"text-xs md:text-lg font-bold md:font-light",children:(0,Y.p)(a.lockingTime)})]}),(0,n.jsxs)("div",{className:"flex-1 text-center",children:[(0,n.jsx)("div",{className:"text-xs font-light",children:"Maturity Date"}),(0,n.jsx)("div",{className:"text-xs md:text-lg font-bold md:font-light",children:(0,Y.p)(a.maturityTime)})]}),(0,n.jsxs)("div",{className:"flex-1 text-right",children:[(0,n.jsx)("div",{className:"text-xs font-light",children:a.productType===L.kv.Lending?"Duration":"Strike Price"}),(0,n.jsx)("div",{className:"text-xs md:text-lg font-bold md:font-light",children:a.productType===L.kv.Lending?"".concat(a.maturityPeriod," Days"):"Pending"})]})]}),(0,n.jsxs)("div",{className:d()("p-4 flex flex-col justify-between bg-indigo text-center text-white",4!==t.step&&"mt-8 rounded-t",4===t.step&&"border-t rounded-none"),children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"New Saving Amount"}),(0,n.jsxs)("span",{className:"text-md md:text-lg font-light",children:[ne(t.quantity,a,l)," (",a.contractName,")"]})]}),t&&(0,n.jsxs)("div",{className:d()("p-4 flex flex-col justify-between bg-indigo text-center text-white border-t ",3===t.step&&"rounded-b",4===t.step&&"rounded-none"),children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"Maturity"}),(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:2===t.step?"".concat(null===t||void 0===t?void 0:t.expectedReturnNotCovert," ").concat(a.productType!==L.kv.CollateralToToken?a.symbol:l," (").concat(a.productType!==L.kv.TokenToCollateral?t.collateralContract:a.contractName,")"):"".concat(ee(a,t.collateralCoin,t.expectedReturnNotCovert,t.expectedReturnCovert)," (").concat(a.productType!==L.kv.TokenToCollateral?a.contractName:t.collateralContract,")")})]}),3===t.step&&a.productType!==L.kv.Lending&&(0,n.jsxs)("div",{className:d()("p-4 flex flex-col justify-between bg-indigo text-center text-white border-t rounded-b"),children:[(0,n.jsxs)("span",{className:"text-xs font-light",children:["Underlying"," ",a.productType===L.kv.TokenToCollateral?"Stablecoin":"Token"]}),a.productType===L.kv.TokenToCollateral?(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:"".concat(t.collateralCoin," ").concat((0,q.X)(t.collateralCoin)," \n                  (").concat(t.collateralContract,")")}):(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:"".concat(a.symbol," ").concat(a.name," \n                    (").concat(a.contractName,")")})]}),4===t.step&&(0,n.jsxs)("div",{className:d()("p-4 flex flex-col justify-between bg-indigo text-center text-white border-t rounded-b"),children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"Automatic Rollover Option"}),(0,n.jsx)("span",{className:"text-md md:text-lg font-light",children:t.autoRoll?"On":"Off"})]})]})]})};function ae(e){var t=e.contracts,r=e.productContract,o=e.resetAmount,a=e.setProductContractContract;return t?(0,n.jsx)("div",{className:"flex mt-8 mb-4",children:t.map((function(e){return(0,n.jsx)("div",{className:d()("flex-1 text-center cursor-pointer py-3.5 border first:rounded-l last:rounded-r",e===r?"border-indigo text-indigo":"border-gray-200 text-gray"),onClick:e===r?null:function(){o(),a(e)},children:e})}))}):null}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=function(e){var t,r,o,a,l,i,c,s=e.dispatch,u=e.stablecoin,p=e.activeDeposit,x=e.weeklyRate,f=e.annualRate,h=e.selectedProduct,b=(0,m.useState)(),y=b[0],v=b[1],g=(0,m.useState)(),N=g[0],k=g[1],w=(0,m.useState)(),C=w[0],O=w[1],T=(0,m.useState)("BUSD"===u?"BSC":"ERC20"),S=T[0],Z=T[1],R=M(h,u,S),E=R.tokenBalance,D=R.loading,I=(0,W.L)().data,q=(0,_.U)().data,U=(0,P.l)({stablecoin:u}).data,A=(0,H.cI)(),B=A.register,F=A.setValue,z=A.setError,G=A.clearErrors,$=A.watch,V=A.handleSubmit,ee=A.formState.errors;(0,m.useEffect)((function(){if(0!==$("quantity")){var e=te(h,$("quantity"),u,p,null===q||void 0===q?void 0:q.kycStatus,I),t=e.expectedReturn,r=e.returnNotConverted,n=e.returnConverted,o=e.maxAmountLimit;v(t),k(r),O(Number(n)),o&&$("quantity")>Number(o)?z("quantity",{message:"KYC Limited!"}):0===parseFloat(h.quota)?z("quantity",{message:"Quota Not Enough!"}):G("quantity")}}),[$("quantity")]);var re=(0,m.useCallback)(V((function(e){var t=e.quantity;s({type:"NEXT",payload:{quantity:t,productType:h.productType,expectedReturnNotCovert:N,expectedReturnCovert:C,collateralContract:S}})})),[h.productType,y]);return D?(0,n.jsx)("div",{className:"p-60 flex justify-center",children:(0,n.jsx)(Q.Z,{color:"#2601cf",className:"w-8 h-8"})}):(0,n.jsxs)("form",{className:"mt-8 px-4 md:px-24 pb-8 flex flex-col",onSubmit:re,children:[(0,n.jsx)(oe,{weeklyRate:x,annualRate:f,selectedProduct:h,stablecoin:u}),(0,n.jsxs)(j.Z,{container:!0,spacing:2,children:[(0,n.jsx)(j.Z,{item:!0,xs:12,children:h.productType===L.kv.CollateralToToken&&(0,n.jsx)(ae,{contracts:U,productContract:S,resetAmount:function(){return F("quantity",0)},setProductContractContract:Z})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:12,children:(0,n.jsxs)(K.fv,{className:d()("flex flex-col md:flex-row justify-between border border-solid rounded cursor-text select-none",null!==(t=ee.quantity)&&void 0!==t&&t.message?"border-error":"border-gray-200"),children:[(0,n.jsx)(K.ZP,ie({id:"quantity",className:"flex-1 mr-4 border-none",label:"New Saving Amount",type:"number",step:1/Math.pow(10,null===h||void 0===h?void 0:h.operationalDecimals),autoComplete:"off",error:null===(r=ee.quantity)||void 0===r?void 0:r.message},B("quantity",{required:!0,valueAsNumber:!0,min:{value:h.minimumOrder,message:"Amount should be more than ".concat(h.minimumOrder," ").concat(h.productType===L.kv.CollateralToToken?u:h.symbol)},max:{value:null!==(o=null===E||void 0===E?void 0:E.balance)&&void 0!==o?o:0,message:"Insufficient funds"}}))),(0,n.jsxs)("div",{className:"p-4 text-left mt-4 md:mt-0 md:text-right text-xs",children:[(0,n.jsx)("div",{children:"Available Balance: ".concat((0,J.p)(null!==(a=null===E||void 0===E?void 0:E.balance)&&void 0!==a?a:0)," ").concat(h.productType!==L.kv.CollateralToToken?h.symbol:u)}),(0,n.jsx)("div",{className:"mt-1 text-indigo cursor-pointer",onClick:function(){var e;return F("quantity",null!==(e=parseFloat(null===E||void 0===E?void 0:E.balance))&&void 0!==e?e:0)},children:"Input All"})]})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:6,className:"",spacing:2,children:(0,n.jsxs)("div",{className:d()("py-2 px-4 border rounded border-gray-200 transition-all",(null===(l=ee.quantity)||void 0===l?void 0:l.message)&&"mt-4"),children:[(0,n.jsxs)("span",{className:"text-gray-500 text-xs",children:["Expected Return at Maturity"," ",h.productType!==L.kv.Lending&&"(USD amount not final)"]}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"mt-2",children:$("quantity")?y:"-"})]})}),(0,n.jsx)(j.Z,{item:!0,xs:12,md:6,children:(0,n.jsx)(K.ZP,{id:"maturityDate",type:"text",readOnly:!0,className:d()("flex-1 ml-0",(null===(i=ee.quantity)||void 0===i?void 0:i.message)&&"mt-4"),label:"Maturity Date",value:(0,Y.p)(h.maturityTime)})})]}),(0,n.jsx)(X.Z,{type:"submit",className:d()(null!==(c=ee.quantity)&&void 0!==c&&c.message?"border-error text-error":"border-indigo text-indigo","mt-8 md:mt-12 ml-auto px-8 md:px-16 border text-indigo text-sm"),children:"Next"})]})};var se=function(e){var t=e.state,r=e.error,o=e.close,a=e.loading,l=e.selectedProduct;if(5!==t.step)return null;var i=a?(0,n.jsx)("div",{className:"mb-40 flex justify-center py-8",children:(0,n.jsx)(Q.Z,{color:"black",className:"w-8 h-8"})}):r?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"block text-center text-xs font-normal",children:"Error"}),(0,n.jsx)("h2",{className:"mb-8 text-center text-2xl font-hairline text-error",children:r})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h2",{className:"px-4 md:px-28 mb-8 text-center text-3xl",children:[(0,n.jsx)("span",{className:"block text-xs font-medium",children:"Confirmed"}),(0,n.jsx)("span",{className:"font-thin",children:"Thank you"})]}),(0,n.jsx)("hr",{className:"mx-4 md:mx-28 border-gray-200"}),(0,n.jsxs)("div",{className:"px-4 md:px-28 mt-4 md:mt-8 flex flex-row justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"text-xs font-light",children:"New Saving Amount"}),(0,n.jsxs)("span",{className:"text-lg font-light",children:[[(0,J.p)(t.quantity),l.productType!==L.kv.CollateralToToken?"".concat(l.symbol," (").concat(l.contractName,")"):"".concat(t.collateralCoin," (").concat(t.collateralContract,")")].join(" ")," ","(",l.contractName,")"]})]}),(0,n.jsxs)("div",{className:"flex flex-col text-right",children:[(0,n.jsxs)("span",{className:"text-xs font-light",children:[l.productType===L.kv.Lending&&"Duration",l.productType===L.kv.TokenToCollateral&&"Underlying Stablecoin",l.productType===L.kv.CollateralToToken&&"Underlying Token"]}),(0,n.jsxs)("span",{className:"text-lg font-light whitespace-pre-wrap",children:[l.productType===L.kv.Lending&&"".concat(l.maturityPeriod," Days"),l.productType===L.kv.TokenToCollateral&&"".concat((0,q.X)(t.collateralCoin)," ").concat(t.collateralCoin," (").concat(t.collateralContract,")"),l.productType===L.kv.CollateralToToken&&"".concat(l.symbol," (").concat(l.contractName,")")]})]})]}),(0,n.jsx)("div",{className:"mr-4 md:mr-10 mb-8 md:mb-11 flex justify-between",children:(0,n.jsx)(X.Z,{className:"mt-8 md:mt-40 ml-auto px-8 md:px-16 border border-indigo text-indigo text-xs",onClick:o,children:"Done"})})]});return(0,n.jsx)("div",{className:"mt-10 md:mt-40 flex flex-col text-indigo-900",children:i})},de=r(8347);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=o.ZP.button.withConfig({displayName:"ButtonGroup__ButtonGroupItem",componentId:"sc-2c3eyi-0"})(["transition:all 200ms cubic-bezier(0.4,0,0.2,1);&:first-child{border-top-left-radius:0.25rem;border-bottom-left-radius:0.25rem;}&:not(:first-child){margin-left:-1px;}&:last-child{border-top-right-radius:0.25rem;border-bottom-right-radius:0.25rem;}"]);function xe(e){var t=e.className,r=e.children,o=(0,de.Z)(e,["className","children"]),a=m.Children.toArray(r);return(0,n.jsx)("div",pe(pe({className:d()("flex flex-row",t)},o),{},{children:a.map((function(e,t){var r;return(0,m.cloneElement)(e,pe(pe({},e.props),{},{isPrevSelected:null===(r=a[t-1])||void 0===r?void 0:r.props.selected}))}))}))}function fe(e){var t=e.selected,r=e.isPrevSelected;return t?["border-indigo","border-r-indigo"]:r?["border-l-indigo","border-gray-200"]:["border-gray-200"]}xe.Item=function(e){var t=e.title,r=e.subTitle,o=e.selected,a=e.isPrevSelected,l=e.className,i=(0,de.Z)(e,["title","subTitle","selected","isPrevSelected","className"]);return(0,n.jsx)(me,pe(pe({className:d()("px-4 md:px-12 py-4 border focus:outline-none text-gray-600",o&&["text-indigo","z-10"],fe({selected:o,isPrevSelected:a}),l)},i),{},{children:(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("span",{className:"font-light text-3xs",children:t}),r?(0,n.jsx)("span",{className:"block",children:r}):""]})}))};var he=xe;var be=function(e){var t=e.state,r=e.dispatch,o=e.weeklyRate,a=e.annualRate,l=e.selectedProduct,i=e.stablecoin;if(3!==t.step)return null;var c=(0,m.useState)(!0),s=c[0],d=c[1];return(0,n.jsxs)("div",{className:"mt-8 px-4 md:px-24 pb-8 flex flex-col",children:[(0,n.jsx)(oe,{state:t,stablecoin:i,weeklyRate:o,annualRate:a,selectedProduct:l}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("h3",{className:"font-light text-center p-8 text-2xl",children:"Automatic Rollover Option"}),(0,n.jsx)("p",{className:"font-light text-sm text-center",children:function(){switch(l.productType){case L.kv.Lending:return"If you turn on Automatic Rollover option, new saving with the same duration will be created automatically from the matured amount, earning compounding interest.";default:return"At maturity, new Saving will be created automatically from the matured\n                amount, and will earn compounding interest with the interest rate of\n                that day. Automatic rollover will stop if the Saving is converted to\n                the Underlying ".concat(l.productType===L.kv.TokenToCollateral?"Stablecoin":"Token",".")}}()}),(0,n.jsx)("div",{className:"w-full text-center flex justify-center mt-8 mb-8",children:(0,n.jsxs)(he,{children:[(0,n.jsx)(he.Item,{title:"Automatic Rollover",subTitle:"On",selected:s,onClick:function(){return d(!0)}}),(0,n.jsx)(he.Item,{title:"Automatic Rollover",subTitle:"Off",selected:!1===s,onClick:function(){return d(!1)}})]})})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(X.Z,{type:"button",className:"mt-12 px-8 md:px-16 border text-indigo-900 text-sm",onClick:function(){return r({type:"BACK",payload:{productType:l.productType}})},children:"Back"}),(0,n.jsx)(X.Z,{type:"submit",className:"mt-12 ml-auto px-8 md:px-16 border border-indigo text-indigo text-sm",onClick:function(){null!==s&&r({type:"NEXT",payload:{autoRoll:s}})},children:"Next"})]})]})},ye=r(1658);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(e){var t,r=e.state,o=e.submit,a=e.dispatch,l=e.weeklyRate,i=e.annualRate,c=e.selectedProduct,s=e.stablecoin;if(4!==r.step)return null;var u=(0,H.cI)(),p=u.register,m=u.watch,x=u.formState.errors,f=c.productType===L.kv.Lending||m("checkConfirm");return(0,n.jsxs)("div",{className:"mt-8 px-4 md:px-24 pb-8 flex flex-col",children:[(0,n.jsx)(oe,{state:r,stablecoin:s,weeklyRate:l,annualRate:i,selectedProduct:c}),(0,n.jsxs)("div",{className:"md:flex pt-8 md:pt-16 pb-10",children:[c.productType!==L.kv.Lending&&(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(ye.Z,ge(ge({bgColor:f?"#2502CF":"#9287ca",borderColor:f?"#2502CF":"#9287ca"},p("checkConfirm",{required:!0})),{},{children:(0,n.jsx)("div",{className:d()("font-normal text-sm leading-4",f?"text-indigo":"text-purple-350",(null===(t=x.checkConfirm)||void 0===t?void 0:t.message)&&"text-error"),children:function(){switch(c.productType){case L.kv.TokenToCollateral:return"I understand that my Savings might get converted to the Underlying Stablecoin at maturity, if the maturity price of Token is equal or above the Strike Price.";case L.kv.CollateralToToken:return"I understand that my Savings might get converted to the Underlying Token at maturity, if the maturity price of Underlying Token is equal or below the Strike Price.";default:return""}}()})}))}),(0,n.jsx)("div",{className:d()("flex-1 font-light text-sm mt-8 md:mt-0 leading-4",c.productType!==L.kv.Lending?"text-right":"text-center"),children:"Your New Saving will be created at the next Settlement Time, on ".concat((0,Y.p)(c.lockingTime,"dd MMM yyyy, hh:mm")," UTC.")})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(X.Z,{type:"button",className:"md:mt-12 px-8 md:px-16 border text-indigo-900 text-sm",onClick:function(){return a({type:"BACK"})},children:"Back"}),(0,n.jsx)(X.Z,{type:"submit",className:d()("md:mt-12 ml-auto px-8 md:px-16 border text-sm text-gray",c.productType===L.kv.Lending&&"border-indigo text-indigo",f&&c.productType!==L.kv.Lending&&"border-indigo text-indigo"),onClick:f&&o,children:"Confirm"})]})]})},Ne=r(1609);function ke(e){var t=e.selectedProduct,r=e.collateralCoin,o=e.collateralContract,a=e.setCollateral,l=e.setCollateralContract,i=[],c=[],s=[];Object.keys(t.strikePrice).forEach((function(e){var t=e.split("|"),r={coinName:t[0],contractName:t[1]};i.push(r),c.push(t[0])})),i.filter((function(e){return e.coinName===r})).forEach((function(e){s.push(e.contractName)}));var u=(0,m.useCallback)((function(e,t){var n="collateral"===e?i.filter((function(e){return e.coinName===t&&e.contractName===o})):i.filter((function(e){return e.coinName===r&&e.contractName===t}));0===n.length&&(n="collateral"===e?i.filter((function(e){return e.coinName===t})):i.filter((function(e){return e.contractName===t}))),a(n[0].coinName),l(n[0].contractName)}),[r,o]);return t.productType===L.kv.TokenToCollateral?(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"flex flex-wrap md:flex-nowrap w-full",children:(0,Ne.T)(c).map((function(e){return(0,n.jsxs)("div",{className:d()("md:flex-1 w-1/2 border p-4 text-left",r===e?"border-indigo text-indigo-900":"text-gray-500 cursor-pointer"),onClick:function(){u("collateral",e)},children:[(0,n.jsx)("div",{className:"text-xs",children:(0,q.X)(e)}),(0,n.jsx)("div",{className:"text-sm",children:e})]})}))}),(0,n.jsx)("div",{className:"flex justify-around bg-indigo",children:s.map((function(e){return(0,n.jsxs)("div",{className:d()("w-max p-6 text-white",o===e?"border-indigo":"text-opacity-50 cursor-pointer"),onClick:function(){u("collateralName",e)},children:[(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("div",{className:d()("h-3 w-3 rounded-full",o===e?"border-2 border-white":"bg-white")})}),(0,n.jsx)("div",{className:"mt-2 text-sm",children:"".concat(e," Chain")})]})}))})]}):(0,n.jsx)("div",{className:"w-full",children:(0,n.jsxs)("div",{className:"border rounded p-2 flex flex-col justify-center text-right items-center border-indigo text-indigo-900",children:[(0,n.jsx)("div",{className:"self-start h-3 w-3 rounded-full border-2 border-indigo bg-indigo mx-auto"}),(0,n.jsxs)("div",{className:"text-center mt-3",children:[(0,n.jsx)("div",{className:"text-xs",children:t.name}),(0,n.jsx)("div",{className:"text-lg",children:t.symbol})]})]})})}var we=function(e){var t=e.state,r=e.dispatch,o=e.weeklyRate,a=e.annualRate,l=e.stablecoin,i=e.selectedProduct,c=(0,m.useState)("USDT"),s=c[0],d=c[1],u=(0,m.useState)("ERC20"),p=u[0],x=u[1];return 2!==t.step?null:(0,n.jsxs)("div",{className:"mt-8 px-4 md:px-24 pb-8 flex flex-col",children:[(0,n.jsx)(oe,{state:t,weeklyRate:o,annualRate:a,stablecoin:l,selectedProduct:i}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-light text-center p-8 text-2xl",children:i.productType===L.kv.TokenToCollateral?"Underlying Stablecoin":"Underlying Token"}),(0,n.jsx)("p",{className:"font-light text-sm text-center",children:i.productType===L.kv.TokenToCollateral?"If the token price has appreciated 10% or more after 7 days (token\n          price at maturity >= 110% token price at start), you will receive\n          the Underlying Stablecoin equivalent of both the saving amount and\n          interest, with the original tokens converted at Strike Price (110% of\n          the price at start) to the Underlying Stablecoin.":"If the Underlying token price has depreciated 9% or more after 7 days (Underlying token\n            price at maturity <= 91% token price at start), you will receive\n            the Underlying Token equivalent of both the saving amount and\n            interest, with the original tokens converted at Strike Price (91% of\n            the price at start) to the Underlying Token."}),(0,n.jsx)("div",{className:"w-full flex justify-center mt-8 mb-8",children:(0,n.jsx)(ke,{selectedProduct:i,collateralCoin:s,collateralContract:p,setCollateral:d,setCollateralContract:x})})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)(X.Z,{type:"button",className:"mt-4 md:mt-4 px-8 md:px-16 border text-indigo-900 text-sm",onClick:function(){return r({type:"BACK"})},children:"Back"}),(0,n.jsx)(X.Z,{type:"submit",className:"mt-4 md:mt-4 ml-auto px-8 md:px-16 border border-indigo text-indigo text-sm",onClick:function(){s&&p&&r({type:"NEXT",payload:i.productType===L.kv.TokenToCollateral?{collateralCoin:s,collateralContract:p}:{collateralCoin:l}})},children:"Next"})]})]})};var Ce=function(e){var t=e.close,r=e.stablecoin,o=e.activeDeposit,a=e.selectedProduct,l=M(a,r),i=l.rates,c=l.state,s=l.error,u=l.loading,p=l.submit,m=l.dispatch;if(!a)return null;var x=[null,(0,n.jsx)(ce,{dispatch:m,stablecoin:r,activeDeposit:o,weeklyRate:i.weeklyRate,annualRate:i.annlyRate,selectedProduct:a}),(0,n.jsx)(we,{state:c,dispatch:m,stablecoin:r,weeklyRate:i.weeklyRate,annualRate:i.annlyRate,selectedProduct:a}),(0,n.jsx)(be,{state:c,dispatch:m,stablecoin:r,weeklyRate:i.weeklyRate,annualRate:i.annlyRate,selectedProduct:a}),(0,n.jsx)(je,{state:c,submit:p,dispatch:m,stablecoin:r,weeklyRate:i.weeklyRate,annualRate:i.annlyRate,selectedProduct:a}),(0,n.jsx)(se,{state:c,close:t,error:s,loading:u,selectedProduct:a})];return(0,n.jsxs)(Z.Z,{show:!!a,close:!u&&t,className:"w-11/12 md:w-1/2 mt-16 mx-auto pt-6 pb-2 bg-white rounded",children:[(0,n.jsxs)("div",{className:"px-4 md:px-10 flex flex-row justify-between",children:[(0,n.jsx)("h3",{className:"text-indigo-900",children:"New Saving"}),(0,n.jsx)("span",{className:d()("text-gray text-sm",u?"cursor-not-allowed":"cursor-pointer"),onClick:!u&&t,children:"Close"})]}),(0,n.jsx)(G,{current:c.step,selectedProduct:a}),x[c.step]]})},Oe=o.ZP.div.withConfig({displayName:"NewOrder__FilterComponentSearch",componentId:"sc-emf5ls-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-top:1px solid #1f193e;border-bottom:1px solid #1f193e;background-color:#110e22;cursor:pointer;&:hover{opacity:0.8;}"]),Te=o.ZP.img.withConfig({displayName:"NewOrder__SearchButton",componentId:"sc-emf5ls-1"})(["padding:20px;"]),Pe=o.ZP.input.withConfig({displayName:"NewOrder__SearchInput",componentId:"sc-emf5ls-2"})(["display:flex;justify-content:center;text-align:left;align-items:center;font-size:14px;outline:none;color:#fff;background-color:#1f193e;padding-bottom:5px;transition:width 0.2s ease-in;height:70px;"]),Se=["USDT","USDC","BUSD","TUSD"];var Ze=function(){var e=(0,m.useState)(0),t=e[0],r=e[1],o=(0,m.useState)("USDT"),a=o[0],l=o[1],i=(0,m.useState)(""),c=i[0],s=i[1],g=(0,m.useState)(null),j=g[0],Z=g[1],R=(0,u.ZP)("totalActiveSavings",T._G).data,E=(0,S.r)({filters:{stablecoin:a,name:c,product:O.bQ[t].key,contractName:j}}),D=E.filteredProducts,I=E.loading;(0,m.useEffect)((function(){s(""),l("USDT")}),[t]);var _=(0,m.useState)(!1),q=_[0],L=_[1],U=(0,m.useRef)(null),A=(0,m.useCallback)((function(){if(!q)return L(!0),void U.current.focus();c||L(!1)}),[q,c]),B=(0,m.useState)(null),F=B[0],z=B[1],M=(0,P.u)().data,G=(0,x.$G)("common").t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(b.Z,{title:"Savings",menu:[{pathname:"/savings",menu:"Active"},{pathname:"/savings/matured",menu:"Matured"},{pathname:"/savings/new",menu:"New saving"}]}),(0,n.jsxs)("div",{className:"pt-16 pb-16 text-center",children:[(0,n.jsx)("h1",{className:"text-white text-2xl mb-4",children:"Choose the Saving Type"}),(0,n.jsxs)("p",{className:"text-xs text-purple-350",children:["To create new saving, first select the Saving Type,",(0,n.jsx)("br",{}),"then select the token chain, and finally select from the list of tokens."]})]}),(0,n.jsx)(f.Z,{tab:t,setTab:r,menu:O.bQ.map((function(e,t){var r=e.title,n=e.subtitle;return{id:t,menu:G(r),title:G(n)}}))})]}),(0,n.jsx)(v.H,{children:(0,n.jsxs)(p.Z,{children:["stablecoin"===O.bQ[t].key&&(0,n.jsx)("div",{className:"mx-auto w-full md:w-1/2 mb-16",children:(0,n.jsx)(y.Z,{className:"h-full",children:Se.map((function(e){return(0,n.jsx)("div",{className:d()("cursor-pointer select-none w-1/3 py-4 flex items-center justify-center",a===e?"bg-indigo-850 text-white":"text-purple-250"),onClick:function(){return l(e)},children:e})}))})}),[(0,n.jsx)(w,{}),(0,n.jsx)(N,{}),(0,n.jsx)(C,{})][t],(0,n.jsxs)(h.Z,{children:[(0,n.jsx)(h.Z.Item,{selected:!j,onClick:function(){return Z(null)},children:"All"}),null===M||void 0===M?void 0:M.map((function(e){return(0,n.jsxs)(h.Z.Item,{selected:j===e,onClick:function(){return Z(e)},children:[e," Chain"]},e)}))]}),(0,n.jsxs)(Oe,{onClick:A,children:[(0,n.jsx)(Pe,{ref:U,placeholder:"Search token...",value:c,onBlur:function(){c||L(!1)},onKeyPress:function(e){"Enter"===e.key&&A()},onChange:function(e){return null===s||void 0===s?void 0:s(e.target.value)},style:q?{width:"100%",paddingLeft:"20px"}:{width:0}}),(0,n.jsx)(Te,{src:"/assets/search.png",alt:"Search token"})]}),!I&&(0,n.jsx)(k.Z,{type:O.bQ[t].key,products:D,stablecoin:a,onProductClick:z}),","]})}),(0,n.jsx)(Ce,{stablecoin:a,activeDeposit:null===R||void 0===R?void 0:R.activeDeposit,selectedProduct:F,close:function(){return z(null)}})]})},Re=r(4693),Ee=r(3187),De=!0,Ie=o.ZP.div.withConfig({displayName:"new__FilterComponentSearch",componentId:"sc-1kro0zp-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-top:1px solid #1f193e;border-bottom:1px solid #1f193e;background-color:#110e22;cursor:pointer;&:hover{opacity:0.8;}"]),_e=o.ZP.img.withConfig({displayName:"new__SearchButton",componentId:"sc-1kro0zp-1"})(["padding:20px;"]),qe=o.ZP.input.withConfig({displayName:"new__SearchInput",componentId:"sc-1kro0zp-2"})(["display:flex;justify-content:center;text-align:left;align-items:center;font-size:14px;outline:none;color:#fff;background-color:#1f193e;padding-bottom:5px;transition:width 0.2s ease-in;height:70px;"]);var Le=function(){return(0,n.jsxs)(c.f,{children:[(0,n.jsxs)(i.Main,{children:[(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(Ze,{})]}),(0,n.jsx)(Ee.Z,{})]}),(0,n.jsx)(Re.Z,{})]})}}}]);