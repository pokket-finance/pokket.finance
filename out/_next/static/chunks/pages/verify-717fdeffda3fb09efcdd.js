(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4143],{374:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7294);function o(e,t,o,i){void 0===o&&(o=r.g),void 0===i&&(i={});var s=(0,n.useRef)(),c=i.capture,a=i.passive,u=i.once;(0,n.useEffect)((function(){s.current=t}),[t]),(0,n.useEffect)((function(){if(o&&o.addEventListener){var t=function(e){return s.current(e)},r={capture:c,passive:a,once:u};return o.addEventListener(e,t,r),function(){o.removeEventListener(e,t,r)}}}),[e,o,c,a,u])}},7283:function(e,t,r){"use strict";r.d(t,{fv:function(){return m},hW:function(){return b},am:function(){return x},AZ:function(){return w}});var n=r(5893),o=r(6265),i=r(4121),s=r(8347),c=r(7294),a=r(8117),u=r(4184),l=r.n(u),d=r(2161),f=r(6684);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=a.ZP.div.withConfig({displayName:"Input__InputContainer",componentId:"sc-1kl4ydl-0"})(["transition:all 150ms cubic-bezier(0.4,0,0.2,1);"]),b=a.ZP.span.withConfig({displayName:"Input__ErrorLabel",componentId:"sc-1kl4ydl-1"})(["left:0;bottom:-1.5rem;transition:opacity 150ms cubic-bezier(0.4,0,0.2,1);"]),x=a.ZP.input.withConfig({displayName:"Input__InputComponent",componentId:"sc-1kl4ydl-2"})([""]),y=a.ZP.span.withConfig({displayName:"Input__ShowPassword",componentId:"sc-1kl4ydl-3"})(["top:50%;right:2rem;transform:translateY(-50%);transition:opacity 150ms cubic-bezier(0.4,0,0.2,1);",":focus ~ &{opacity:1;}",":not(:placeholder-shown) ~ &{opacity:1;}"],x,x),v=(0,a.iv)(["color:#939295;transform:translate(-12.5%,-5%) scale(0.75);"]),w=a.ZP.label.withConfig({displayName:"Input__InputLabel",componentId:"sc-1kl4ydl-4"})(["transform:translateY(50%);transition:all 150ms cubic-bezier(0.4,0,0.2,1);",":focus + &{","}",":not(:placeholder-shown) + &{","}"],x,v,x,v);function g(e,t){var r=e.id,o=e.type,a=e.label,u=e.error,p=e.disabled,v=e.required,g=e.className,j=e.autoFocus,O=e.placeholder,P=(0,s.Z)(e,["id","type","label","error","disabled","required","className","autoFocus","placeholder"]),C=(0,f.t)(t),N=(0,i.Z)(C,2),k=N[0],_=N[1],E=(0,c.useCallback)((function(){k.current.focus()}),[]),Z=(0,d.$G)("common").t;(0,c.useEffect)((function(){j&&k.current.focus()}),[]);var S=(0,c.useState)(!1),T=S[0],I=S[1],q=(0,c.useMemo)((function(){return"password"!==o?o:T?"text":"password"}),[o,T]),L=(0,c.useCallback)((function(e){e.stopPropagation(),I((function(e){return!e}))}),[]);return(0,n.jsxs)(m,{className:l()("px-4 py-2 relative flex flex-col-reverse border border-solid rounded cursor-text select-none",p&&["cursor-not-allowed","bg-gray-100"],u?"border-error":"border-gray-200",g),onClick:E,children:[(0,n.jsx)(x,h({className:"w-full outline-none bg-transparent",id:r,ref:_,type:q,required:v,disabled:p,placeholder:null!==O&&void 0!==O?O:" "},P)),a&&(0,n.jsxs)("div",{children:[(0,n.jsxs)(w,{className:l()("relative text-base",p?["cursor-not-allowed","text-gray-700"]:["cursor-text","text-black"]),htmlFor:r,children:[a,v&&(0,n.jsx)("span",{className:"absolute text-xs text-red-600",children:"*"})]}),(0,n.jsx)(b,{className:l()("ml-4 md:ml-2 text-error",u?"opacity-100":"opacity-0"),children:u})]}),(0,n.jsx)(y,{className:l()("absolute text-sm text-gray cursor-pointer opacity-0",p?"cursor-not-allowed":"cursor-pointer",{invisible:"password"!==o}),inputType:o,onClick:p?void 0:L,children:Z(T?"hide":"show")})]})}t.ZP=c.forwardRef(g)},2531:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});var n=r(8117).ZP.div.withConfig({displayName:"Login__LoginLayout",componentId:"sc-fyr5a3-0"})(["width:100%;padding:0 16px;padding-top:6vh;.form{margin-left:auto;margin-right:auto;max-width:510px;}h2{font-size:30px;line-height:30px;font-weight:bold;margin-bottom:8px;}"])},1954:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(5893),o=r(7294),i=r(8117),s=r(4184),c=r.n(s),a=r(1163),u=r(6989),l=r(2874),d=r(374),f=r(6486),p=r(9690),h=(0,f.debounce)((function(){(0,l.dx)()}),3e3),m=function(){var e=(0,a.useRouter)();(0,d.Z)("click",(function(){(0,p.nr)()?h():e.push("/login?loggedExpired=true")}))},b=i.ZP.div.withConfig({displayName:"Page__Container",componentId:"sc-1ogegnc-0"})(["transition:background 150ms cubic-bezier(0.4,0,0.2,1);"]);var x=function(e){var t=e.className,r=e.children,i=(0,o.useContext)(u.N),s=(0,a.useRouter)().pathname.split("/")[1];return"account"!==s&&"savings"!==s&&"dashboard"!==s&&"wallet"!==s||m(),(0,n.jsx)(b,{className:c()("w-screen flex flex-col",t),style:{backgroundColor:i.bgColor,minHeight:"calc(100vh - 62px)"},children:r})}},9889:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});var n=r(7294);function o(){var e=(0,n.useRef)();return(0,n.useEffect)((function(){return e.current=new AbortController,function(){return e.current.abort()}}),[]),e}},6684:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(7294);function o(e){var t=(0,n.useRef)(),r=(0,n.useCallback)((function(r){t.current=r,e&&("function"===typeof e?e(r):"object"===typeof e&&(e.current=r))}),[e]);return[t,r]}},6989:function(e,t,r){"use strict";r.d(t,{N:function(){return u},f:function(){return l}});var n=r(5893),o=r(6265),i=r(7294);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a={bgColor:"#110e22",primaryColor:"#110e22"},u=(0,i.createContext)(a);function l(e){var t=e.value,r=void 0===t?{}:t,o=e.children;return(0,n.jsx)(u.Provider,{value:c(c({},a),r),children:o})}},2982:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return N},default:function(){return k}});var n=r(5893),o=r(1954),i=r(2792),s=r(7294),c=r(1664),a=r(2161),u=r(2531),l=r(5820),d=r(3119),f=r(809),p=r.n(f),h=r(2447),m=r(1163);var b=r(6265),x=r(7283),y=r(2283),v=r(2874),w=r(9889);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O,P=function(){var e=function(){var e=(0,y.cI)({mode:"onChange",criteriaMode:"all"}),t=e.register,r=e.handleSubmit,n=e.formState.errors,o=(0,s.useState)(null),i=o[0],c=o[1],a=(0,s.useState)(!1),u=a[0],l=a[1],d=(0,s.useState)(!1),f=d[0],b=d[1],x=(0,m.useRouter)(),g=(0,w.E)();return{error:i,errors:n,register:t,loading:f,success:u,handleSubmit:(0,s.useCallback)(r(function(){var e=(0,h.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),b(!0),e.prev=2,e.next=5,(0,v.c0)(t.password,g.current);case 5:e.sent.isSuccess&&l(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c(e.t0.message);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()),[x])}}(),t=e.error,r=e.loading,o=e.success,i=e.register,u=e.handleSubmit,d=(0,a.$G)("common").t;return o?(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Success"}),(0,n.jsx)(l.Z,{className:"w-full mt-4 bg-indigo text-lg text-white",children:(0,n.jsx)(c.default,{href:"/login",children:"OK"})})]}):(0,n.jsxs)("form",{className:"w-full",onSubmit:u,children:[(0,n.jsx)(x.ZP,j({id:"password",type:"password",label:d("password"),autoComplete:"new-password"},i("password"))),(0,n.jsx)(x.ZP,j({id:"verificationCode",className:"mt-6",type:"verificationCode",label:d("2fa(if enabled)"),autoComplete:"one-time-code"},i("verificationCode"))),t&&(0,n.jsx)("p",{className:"mt-4 -mb-2 text-error",children:t}),(0,n.jsx)(l.Z,{type:"submit",loading:r,className:"w-full mt-4 bg-indigo text-lg text-white",children:d("change-password")})]})};!function(e){e.WithdrawConfirm="confirm",e.ResetPwd="resetpswd",e.Register="register"}(O||(O={}));var C=function(){var e=(0,a.$G)("common").t,t=function(){var e=(0,m.useRouter)(),t=(0,s.useCallback)((function(){return e.replace("/")}),[]),r=(0,s.useState)(!0),n=r[0],o=r[1],i=(0,s.useState)(!1),c=i[0],a=i[1],u=(0,s.useState)(0),l=u[0],d=u[1];return(0,s.useEffect)((function(){(0,h.Z)(p().mark((function t(){var r,n,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.query.type,n=e.query.token,!r||!n){t.next=13;break}return t.prev=3,t.next=6,fetch("/api/verify?type=".concat(r,"&token=").concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 6:(i=t.sent).isSuccess?a(!1):552===i.errorCode&&a(!0),d(i.errorCode);case 10:return t.prev=10,o(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[3,,10,13]])})))()}),[e.query]),{router:e,close:t,verifyCode:l,loading:n,expired:c}}(),r=t.router,o=t.verifyCode,i=t.loading,f=t.expired,b=(0,s.useMemo)((function(){if(r.query.type===O.Register)switch(o){case 0:return{title:"All done.",body:(0,n.jsxs)("p",{children:["This completes the Register process. Please visit our"," ",(0,n.jsx)(c.default,{href:"/faq",children:(0,n.jsx)("a",{className:"underline text-indigo",children:"Faq"})})," ","page for more information on how to use POKKET!"]}),button:"Login"};case 812:return{title:"Message",body:"Sorry! The email has already been verified!",button:"Login"};case 552:return{title:"Link Expired",body:"The confirmation link has expired. Please go to login to send a new request",button:"OK"}}else if(r.query.type===O.ResetPwd)switch(f){case!0:return{title:"Link Expired",body:"The confirmation link has expired. Please submit a new request, If you still want to reset the password.",button:"OK"};case!1:return{title:e("new-password"),subTitle:e("enter-new-password"),body:(0,n.jsx)(P,{})}}else if(r.query.type===O.WithdrawConfirm)switch(f){case!0:return{title:"Link Expired",body:"The confirmation link has expired. Please submit a new request, If you still want to withdrawal.",button:"OK"};case!1:return{title:"All set",body:"Your withdrawal request will be processed to the nearest batch time for withdrawal. Withdrawals are executed 3 times a day during weekdays at 02:00 UTC, 07:00 UTC, and 07:30 UTC; and twice a day during weekends at 07:00 UTC and 07:30 UTC."}}}),[r.query,o,i,f]);return(0,n.jsxs)(u.d,{children:[(0,n.jsxs)("div",{className:"form",children:[!i&&(0,n.jsxs)("div",{className:"flex flex-col items-center mb-8 text-white",children:[(0,n.jsx)("h2",{className:"text-3xl",children:null===b||void 0===b?void 0:b.title}),(null===b||void 0===b?void 0:b.subTitle)&&(0,n.jsx)("div",{children:b.subTitle})]}),(0,n.jsxs)("div",{className:"p-6 md:p-16 bg-white rounded",children:[(0,n.jsx)("div",{className:"flex justify-center",children:i?(0,n.jsx)(d.Z,{color:"#2601cf",className:"w-16"}):null===b||void 0===b?void 0:b.body}),!i&&(null===b||void 0===b?void 0:b.button)&&(0,n.jsx)(c.default,{href:"/login",children:(0,n.jsx)("a",{children:(0,n.jsx)(l.Z,{className:"w-full bg-indigo text-white px-10 mt-6",children:b.button})})})]})]}),(0,n.jsx)("div",{className:"flex flex-col items-center text-white",children:(0,n.jsxs)("div",{className:"mt-16 mb-4 text-sm",children:[(0,n.jsx)(c.default,{href:"/terms",children:(0,n.jsx)("a",{className:"mx-3 text-purple-350",children:e("terms-of-service")})}),"\xb7",(0,n.jsx)(c.default,{href:"/privacy",children:(0,n.jsx)("a",{className:"mx-3 text-purple-350",children:e("privacy-policy")})})]})})]})};var N=!0,k=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(i.ZP,{}),(0,n.jsx)(C,{})]})})}},8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify",function(){return r(2982)}])}},function(e){e.O(0,[3662,8437,7313,2283,399,9774,2888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);